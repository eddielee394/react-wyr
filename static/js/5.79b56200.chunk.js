(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1622:function(e,t,a){"use strict";var r=a(1623),n=a(429),o=a(1624);function c(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function i(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function l(e,t){var a=function(e){var t;switch(e.arrayFormat){case"index":return function(e,a,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=a):r[e]=a};case"bracket":return function(e,a,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],a):r[e]=[a]:r[e]=a};default:return function(e,t,a){void 0!==a[e]?a[e]=[].concat(a[e],t):a[e]=t}}}(t=n({arrayFormat:"none"},t)),r=Object.create(null);return"string"!==typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),n=t.shift(),c=t.length>0?t.join("="):void 0;c=void 0===c?null:o(c),a(o(n),c,r)}),Object.keys(r).sort().reduce(function(e,t){var a=r[t];return Boolean(a)&&"object"===typeof a&&!Array.isArray(a)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"===typeof t?e(Object.keys(t)).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return t[e]}):t}(a):e[t]=a,e},Object.create(null))):r}t.extract=i,t.parse=l,t.stringify=function(e,t){!1===(t=n({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var a=function(e){switch(e.arrayFormat){case"index":return function(t,a,r){return null===a?[c(t,e),"[",r,"]"].join(""):[c(t,e),"[",c(r,e),"]=",c(a,e)].join("")};case"bracket":return function(t,a){return null===a?c(t,e):[c(t,e),"[]=",c(a,e)].join("")};default:return function(t,a){return null===a?c(t,e):[c(t,e),"=",c(a,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map(function(r){var n=e[r];if(void 0===n)return"";if(null===n)return c(r,t);if(Array.isArray(n)){var o=[];return n.slice().forEach(function(e){void 0!==e&&o.push(a(r,e,o.length))}),o.join("&")}return c(r,t)+"="+c(n,t)}).filter(function(e){return e.length>0}).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:l(i(e),t)}}},1623:function(e,t,a){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},1624:function(e,t,a){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),n=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(n){}if(1===e.length)return e;t=t||1;var a=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(a),o(r))}function c(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(r),a=1;a<t.length;a++)t=(e=o(t,a).join("")).match(r);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var a={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},r=n.exec(e);r;){try{a[r[0]]=decodeURIComponent(r[0])}catch(t){var o=c(r[0]);o!==r[0]&&(a[r[0]]=o)}r=n.exec(e)}a["%C2"]="\ufffd";for(var i=Object.keys(a),l=0;l<i.length;l++){var s=i[l];e=e.replace(new RegExp(s,"g"),a[s])}return e}(e)}}},1629:function(e,t,a){"use strict";a.r(t);var r=a(9),n=a(10),o=a(14),c=a(12),i=a(13),l=a(18),s=a(2),u=a(21),m=a(45),p=a(266),f=a(180),d=a(4),h=a.n(d),y=a(23),g=a(0),v=a.n(g),b=a(30),x=Object(u.withStyles)(function(e){return{root:{width:"100%"},header:{background:"linear-gradient(to right, "+e.palette.primary.dark+" 0%, "+e.palette.primary.main+" 100%)",color:e.palette.getContrastText(e.palette.primary.main)},headerIcon:{position:"absolute",top:-64,left:0,opacity:.04,fontSize:512,width:512,height:512,pointerEvents:"none"},content:{}}},{withTheme:!0})(function(e){var t=e.categories,a=e.question,r=e.userHasAnswered,n=r?100:0,o=t.find(function(e){return e.id===a.categoryId});return v.a.createElement("div",{className:"w-full pb-24 sm:w-1/2 lg:w-1/3 sm:p-16",key:a.id},v.a.createElement(s.d,{elevation:1,className:"flex flex-col min-h-256"},v.a.createElement("div",{className:"flex items-center justify-between px-24 h-64",style:{background:o.color}},v.a.createElement(s.c,{component:b.a,to:"/questions/".concat(o.value)},v.a.createElement(s.eb,{className:"font-medium truncate",variant:"button"},o.label)),v.a.createElement("div",{className:"flex items-center justify-center opacity-75"},v.a.createElement(s.y,{className:"text-20 mr-8",color:"inherit"},"access_time"),v.a.createElement("div",{className:"text-16 whitespace-no-wrap"},v.a.createElement(s.eb,{variant:"caption"},y.c.formatDate(a.timestamp))))),v.a.createElement(s.f,{className:"flex flex-col flex-1 items-center justify-center"},v.a.createElement(s.eb,{className:"text-center text-16 font-400"},a.title),v.a.createElement(s.eb,{className:"text-center text-13 font-600 mt-4",color:"textSecondary"},a.updated)),v.a.createElement(s.l,null),v.a.createElement(s.e,{className:"justify-center"},v.a.createElement(s.c,{to:"/questions/".concat(o.value,"/").concat(a.id),component:b.a,className:"justify-start px-32",color:"secondary"},r?"COMPLETED":"START")),v.a.createElement(s.D,{className:"w-full",variant:"determinate",value:n,color:"secondary"})))}),E=a(1622),w=a.n(E),j=a(82),F=a(19),N=a(15),C=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).updateUrlQuery=function(e){return a.props.history.push({pathname:a.props.location.pathname,search:w.a.stringify(Object.assign({},w.a.parse(a.props.location.search),e))})},a.initFilters=function(){a.initCategoryFilter(),a.initStatusFilter()},a.initCategoryFilter=function(){var e=w.a.parse(a.props.location.search),t=e.categoryId;return!!e.categoryId&&a.props.setCategoryFilter({target:{value:t}})},a.handleSetCategoryFilter=function(e){var t=e.target.value,r={categoryId:t};return t&&"0"!==t||(r={categoryId:void 0}),a.updateUrlQuery(r),a.props.setCategoryFilter(e)},a.initStatusFilter=function(){var e=w.a.parse(a.props.location.search),t=e.status;return!!e.status&&a.props.setStatusFilter({target:{value:t}})},a.handleSetStatusFilter=function(e){var t=e.target.value,r={status:t};return t&&"0"!==t||(r={status:void 0}),a.updateUrlQuery(r),a.props.setStatusFilter(e)},a.searchFilterResults=function(e,t){var a=N.a.orderBy(e,"timestamp","desc");return 0===t.length?a:l.o.filterArrayByString(a,t)},a.userHasAnswered=function(e){var t=a.props.authUser;return Object.keys(t.data.answers).includes(e)},a}return Object(i.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this.props.getCategories(),this.props.getQuestions(),this.initFilters()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,r=t.setSearchText,n=t.searchText,o=t.categories,c=t.categoryFilter,i=t.statusFilter,u=t.questions,m=this.searchFilterResults(u,n),p=0===m.length?v.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},v.a.createElement(s.eb,{color:"textSecondary",variant:"h5"},"No questions match your search")):m.map(function(t){return v.a.createElement(x,{categories:o,question:t,userHasAnswered:e.userHasAnswered(t.id),key:t.id})}),f=v.a.createElement(s.p,{className:"flex w-full sm:w-320 mx-16",variant:"outlined"},v.a.createElement(s.C,{htmlFor:"status-label-placeholder"},"Status"),v.a.createElement(s.S,{value:i,onChange:this.handleSetStatusFilter,input:v.a.createElement(s.N,{labelWidth:9*"status".length,name:"status",id:"status-label-placeholder"})},v.a.createElement(s.M,{value:"0",key:"all"},v.a.createElement("em",null,"All")),v.a.createElement(s.M,{value:"1",key:"complete"},"Complete"),v.a.createElement(s.M,{value:"2",key:"incomplete"},"Incomplete"))),d=v.a.createElement(s.p,{className:"flex w-full sm:w-320 mx-16",variant:"outlined"},v.a.createElement(s.C,{htmlFor:"category-label-placeholder"},"Category"),v.a.createElement(s.S,{value:c,onChange:this.handleSetCategoryFilter,input:v.a.createElement(s.N,{labelWidth:9*"category".length,name:"category",id:"category-label-placeholder"})},v.a.createElement(s.M,{value:0},v.a.createElement("em",null,"All")),o.map(function(e){return v.a.createElement(s.M,{value:e.id,key:e.id},e.label)})));return v.a.createElement("div",{className:h()(a.root)},v.a.createElement("div",{className:h()(a.header,"relative overflow-hidden flex flex-col items-center justify-center text-center p-16 sm:p-24 h-200 sm:h-288")},v.a.createElement(l.a,{animation:"transition.slideUpIn",duration:400,delay:100},v.a.createElement(s.eb,{color:"inherit",className:"text-24 sm:text-40 font-light"},"Would You Rather???")),v.a.createElement(l.a,{duration:400,delay:600},v.a.createElement(s.eb,{variant:"subtitle1",color:"inherit",className:"mt-8 sm:mt-16 mx-auto max-w-512"},v.a.createElement("span",{className:"opacity-75"},"Select any of the questions below to get started!"))),v.a.createElement(s.y,{className:a.headerIcon},"school")),v.a.createElement("div",{className:h()(a.content,"max-w-2xl w-full mx-auto px-16 sm:px-24 py-24")},v.a.createElement("div",{className:"flex flex-col sm:flex-row items-center justify-between py-24"},v.a.createElement(s.bb,{label:"Search for a question",placeholder:"Enter a keyword...",className:"flex w-full sm:w-320 mb-16 sm:mb-0 mx-16",value:n,inputProps:{"aria-label":"Search"},onChange:r,variant:"outlined",InputLabelProps:{shrink:!0}}),f,d),v.a.createElement(l.b,{enter:{animation:"transition.slideUpBigIn"},className:"flex flex-wrap py-24"},p)))}}]),t}(g.Component);t.default=Object(f.a)("polls",p.a)(Object(u.withStyles)(function(e){return{root:{width:"100%"},header:{background:"linear-gradient(to right, "+e.palette.primary.dark+" 0%, "+e.palette.primary.main+" 100%)",color:e.palette.getContrastText(e.palette.primary.main)},headerIcon:{position:"absolute",top:-64,left:0,opacity:.04,fontSize:512,width:512,height:512,pointerEvents:"none"},content:{}}},{withTheme:!0})(Object(j.a)(function(e){var t=e.polls,a=e.auth,r=t.categories.data,n=a.user,o=t.filters,c=o.statusFilter,i=o.categoryFilter,l=o.searchText,s=t.questions.data,u=r.filter(function(e){return e.id===i});return u.length>0&&"0"!==u.id&&(s=s.filter(function(e){return e.categoryId===i})),"1"===c?s=s.filter(function(e){return Object.keys(n.data.answers).includes(e.id)}):"2"===c&&(s=s.filter(function(e){return!Object.keys(n.data.answers).includes(e.id)})),{questions:s,categories:r,categoryFilter:i,statusFilter:c,authUser:n,searchText:l}},function(e){return Object(F.c)({getCategories:m.j,getQuestions:m.m,setCategoryFilter:m.o,setStatusFilter:m.q,setSearchText:m.p},e)})(C)))}}]);
//# sourceMappingURL=5.79b56200.chunk.js.map